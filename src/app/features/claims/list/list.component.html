<div class="page-container">
  <div class="list-header">
    <h1>Claims</h1>
  </div>

  <div class="claims-list">
    <div class="toolbar">
      <div class="search-bar">
        <span class="search-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 24 24">
            <path d="M10 2a8 8 0 105.293 14.293l4.707 4.707 1.414-1.414-4.707-4.707A8 8 0 0010 2zm0 2a6 6 0 110 12A6 6 0 0110 4z"/>
          </svg>
        </span>
        <input
          type="text"
          [(ngModel)]="searchTerm"
          placeholder="Search by ID, patient, status, or insurer..."
          aria-label="Search claims"
        />
      </div>

      <div class="sort-controls">
        <label>Sort by:</label>
        <button (click)="setSort('id')">ID</button>
        <button (click)="setSort('patientName')">Patient</button>
        <button (click)="setSort('dateOfService')">Date</button>
        <button (click)="setSort('status')">Status</button>
        <button (click)="setSort('claimAmount')">Amount</button>
      </div>
    </div>

    <ul class="claims-table">
      <li *ngFor="let claim of filteredClaims" class="claim-row">
        <div class="summary" (click)="toggleExpand(claim)">
          <span class="claim-id">#{{ claim.id }}</span>
          <span class="patient-name">{{ claim.patientName }}</span>
          <span class="date-of-service">{{ claim.dateOfService | date }}</span>
          <span class="status-chip {{ claim.status.toLowerCase().replace(' ', '-') }}">
            {{ claim.status }}
          </span>
          <span class="amount">${{ claim.claimAmount }}</span>
        </div>

        <div *ngIf="claim.expanded" class="details">
          <div class="detail-item"><strong>CPT Code</strong><span>{{ claim.cptCode }}</span></div>
          <div class="detail-item"><strong>ICD-10 Code</strong><span>{{ claim.icdCode }}</span></div>
          <div class="detail-item"><strong>Insurance Provider</strong><span>{{ claim.insuranceProvider }}</span></div>
          <div class="detail-item"><strong>Claim Amount</strong><span>${{ claim.claimAmount }}</span></div>
          <div class="detail-item"><strong>Submitted By</strong><span>{{ claim.submittedBy }}</span></div>
          <a [routerLink]="['/dashboard-employee/claims', claim.id]" class="btn-link">
            View Full Details
          </a>
        </div>
      </li>
    </ul>
  </div>
</div>
