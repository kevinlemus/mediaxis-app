<div class="page-container">
  <h1>Clinic Settings</h1>
  <div class="settings-grid">
    <mat-card class="npi-card">
      <h2>NPI Setup</h2>
      <form class="npi-form" (ngSubmit)="saveNpi()" #f="ngForm">
        <mat-form-field appearance="outline">
          <mat-label>NPI Number</mat-label>
            <input matInput name="npi" [(ngModel)]="npi" required maxlength="10" />
        </mat-form-field>
        <button mat-flat-button color="primary" [disabled]="saving || f.invalid">
          <mat-icon *ngIf="!saving">save</mat-icon>
          <mat-icon *ngIf="saving">hourglass_empty</mat-icon>
          <span>{{ saving ? 'Saving...' : 'Save NPI' }}</span>
        </button>
      </form>
    </mat-card>

    <mat-card class="payers-card">
      <h2>Payer Configuration</h2>
      <table mat-table [dataSource]="payerConfigs" class="payer-table">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Payer</th>
          <td mat-cell *matCellDef="let p">{{ p.name }}</td>
        </ng-container>
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef>ID</th>
          <td mat-cell *matCellDef="let p">{{ p.id }}</td>
        </ng-container>
        <ng-container matColumnDef="claims">
          <th mat-header-cell *matHeaderCellDef>30d Claims</th>
          <td mat-cell *matCellDef="let p">{{ p.claims30d }}</td>
        </ng-container>
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef>Status</th>
          <td mat-cell *matCellDef="let p">
            <span class="status" [class.pending]="p.status==='Pending'" [class.disabled]="p.status==='Disabled'">{{ p.status }}</span>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="['name','id','claims','status']"></tr>
        <tr mat-row *matRowDef="let row; columns: ['name','id','claims','status'];"></tr>
      </table>
    </mat-card>

    <mat-card class="integrations-card">
      <h2>Integrations</h2>
      <ul class="integration-list">
        <li><mat-icon>sync</mat-icon> Epic <span class="badge upcoming">Coming Soon</span></li>
        <li><mat-icon>sync</mat-icon> Cerner <span class="badge upcoming">Coming Soon</span></li>
        <li><mat-icon>sync</mat-icon> Athenahealth <span class="badge upcoming">Coming Soon</span></li>
      </ul>
    </mat-card>
  </div>
</div>
